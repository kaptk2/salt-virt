<!DOCTYPE html>
<html ng-app="saltVirt">
	<head>
		<title>JS Testing</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap -->
		<link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<!--Local CSS File(s)-->
		<link href="css/screen.css" rel="stylesheet">

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="../assets/js/html5shiv.js"></script>
		<![endif]-->

	</head>
	<body>
		<!- Begin Error Message -->
		<div class="alert alert-error" id="access-error" style="display: none;">
			<button id="error-close" type="button" class="close">&times;</button>
			Insufficient access. Please check the user name.
		</div>
		<!- End Error Message-->
		<!- Begin Login Form-->
		<div id="login" class="modal hide fade">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h3>Login</h3>
			</div>
			<div class="modal-body form-horizontal">
			<form id='loginForm'>
				<div class="control-group">
					<label class="control-label" for="username">User Name</label>
					<div class="controls">
						<input name='username' type='text' placeholder="User Name" />
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="password">Password</label>
					<div class="controls">
						<input name='password' type='password' placeholder="Password" />
					</div>
				</div>
				</div>
				<input type='hidden' name='eauth' value='pam'>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary">Login</button>
				</div>
			</form>
		</div>
		<!- End Login Form-->
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="brand" href="#vms">VirtMan</a>
					<div class="nav-collapse collapse">
						<p class="navbar-text pull-right">
							<a href="#" class="navbar-link">Logout</a>
						</p>
						<ul class="nav">
							<li class="active"><a href="#">Home</a></li>
							<li><a href="#about">About</a></li>
							<li><a href="#contact">Help</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span3 well" data-offset-top="50">
					<div class="sidebar-nav">
						<ul class="nav nav-list">
							<li class="nav-header">Operations</li>
							<li><a href="#">Create VM</a></li>
							<li><a href="#">Evacuate Node</a></li>
						</ul>
					</div><!--/.well -->
				</div><!--/span-->
				<div class="span9">
					<div class="well">
						<div class="tabbable">
							<ul class="nav nav-tabs">
								<li class="active">
									<a href="#vms" data-toggle="tab">Virtual Machines</a>
								</li>
								<li>
									<a href="#hosts" data-toggle="tab">Hosts</a>
								</li>
							</ul>
							<div class="tab-content" ng-controller="VmListCtrl">
								<div class="tab-pane active" id="vms">
									<table class="table table-hover table-bordered">
										<thead>
											<tr>
												<th>Status</th>
												<th>VM Name</th>
												<th>Host</th>
												<th>Memory</th>
												<th>Max Memory</th>
												<th>Actions</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="vm in vms">
												<td>{{vm.vm_info.state}}</td>
												<td>{{vm.vm_name}}</td>
												<td>{{vm.vm_host}}</td>
												<td>{{vm.vm_info.mem / 1024}} MB</td>
												<td>{{vm.vm_info.maxMem / 1024}} MB</td>
												<td>
													<div class="btn-group">
														<button class="btn btn-info">Open Console</button>
														<button class="btn btn-info dropdown-toggle" data-toggle="dropdown">
														<span class="caret"></span>
														</button>
														<ul class="dropdown-menu">
															<li><a href="#">Power On / Power Off</a></li>
															<li><a href="#">Reboot</a></li>
															<li><a href="#">Power Cycle</a></li>
															<li><a href="#">Force Off</a></li>
															<li class="divider">
															<li><a href="#">Edit Machine</a></li>
															<li><a href="#">Migrate Machine</a></li>
															<li class="divider"></a></li>
															<li><a href="#">Remove Machine</a></li>
														</ul>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div class="tab-pane" id="hosts">
									<table class="table table-hover table-bordered">
										<thead>
											<tr>
												<th>Host Name</th>
												<th>#VMs</th>
												<th>Memory Total</th>
												<th>CPUs</th>
												<th>CPU MHz</th>
												<th>Cores</th>
												<th>CPU Model</th>
												<th>CPU Threads</th>
												<th>Sockets</th>
												<th>Free CPUs</th>
												<th>Memory Usage</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="hosts in hosts_vms.minions">
												<td>{{hosts.minion}}</td>
												<td>{{_.keys(hosts.vm_info).length}}</td>
												<td>{{hosts.node_info.phymemory / 1024}} GB</td>
												<td>{{hosts.node_info.cpus}}</td>
												<td>{{hosts.node_info.cpumhz}}</td>
												<td>{{hosts.node_info.cpucores}}</td>
												<td>{{hosts.node_info.cpumodel}}</td>
												<td>{{hosts.node_info.cputhreads}}</td>
												<td>{{hosts.node_info.sockets}}</td>
												<td>{{hosts.freecpu}}</td>
												<td>{{hosts.freemem}}</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div><!--/span-->
			</div><!--/row-->
		</div><!--/.fluid-container-->

		<!-- JavaScript Libraries -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.1.1/angular.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.1.1/angular-cookies.min.js"></script>

		<!-- Application Scripts -->
		<script src="js/util.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>
